---
title: "Project 1: Exposition and Curation Data"
author: "Robert Williams"
date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
---

```{r init, include=F}
# The package "ezids" (EZ Intro to Data Science) includes some helper functions we developed for the course. 
# Some of the frequently used functions are loadPkg(), xkabledply(), xkablesummary(), uzscale(), etc.
# You will need to install it (once) from GitHub.
# library(devtools)
# devtools::install_github("physicsland/ezids")
# Then load the package in your R session.
library(ezids)
```


```{r setup, include=FALSE}
# Some of common RMD options (and the defaults) are: 
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right', 
knitr::opts_chunk$set(warning = F, message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3) 
# options(scipen=9, digits = 3) 
```

```{r}
# 1. Do not provide answers/comments inside code blocks (like here) -- those are notes between coders/self and will be ignored for grading. 
# 2. Make sure your knitr options are set to include all results/code to be graded in the final document.
# 3. All charts/graphs/tables should have appropriate titles/labels/captions. 
# 4. Compose your answers using inline R code instead of using the code-block output as much as you can. 
# 5. Your grade is also determined by the style. Even if you answer everything correctly, but the .html does not look appealing, you will not get full credit. Pay attention to the details that we mentioned in class/homework and in previous sample .Rmd files. For example, how to use #, ##, ###, ..., bold face, italics, inline codes, tables, ..., {results = "asis"}, use of colors in plots/ggplots, and so forth.
```



# Question 1  
**After importing the dataset, food_access_research_atlas.csv, we identified the variables LILATracts_1And10 and LILATracts_1And20 that had the values, 0, 1 and we assigned value 1 as access and 0 as non-acces.**

```{r import_data, include=FALSE}
fooddesert <- read.csv("food_access_research_atlas.csv", header=TRUE)
str(fooddesert)
head(fooddesert)
```

```{r}

#dfCA = subset(colAdm)
dfFD = subset(fooddesert)



fooddesert_LILATracts_1And10_access = data.frame(dfFD$LILATracts_1And10 == 1)
print("access")
fooddesert_LILATracts_1And10_access = dfFD%>%
  filter(LILATracts_1And10==1)

#colAdm_rejected = dfCA$admit == 0
#print("rejected")
#colAdm_rejected = dfCA%>% 
  #filter(admit==0)

fooddesert_LILATracts_1And10_nonaccess = data.frame(dfFD$LILATracts_1And10 == 0)
print("non-access")
fooddesert_LILATracts_1And10_nonaccess = dfFD%>%
  filter(LILATracts_1And10==0)



fooddesert_LILATracts_1And20_access = data.frame(dfFD$LILATracts_1And20 == 1)
print("access")
fooddesert_LILATracts_1And20_access = dfFD%>%
  filter(LILATracts_1And20==1)


fooddesert_LILATracts_1And20_nonaccess = data.frame(dfFD$LILATracts_1And20 == 0)
print("non-access")
fooddesert_LILATracts_1And20_nonaccess = dfFD%>%
  filter(LILATracts_1And20==0)



```



# Question: Are the patterns in the prevalence of food deserts in these categories?
**Plot a barplot (using `ggplot`) between `LILATracts_1And10, access and non-access` and `LILATracts_1And20, access and non-access`, with points colored by `bar`.  Describe any interesting patterns revealed with this data visualization.** 

```{r}

library(ggplot2)



#ggplot(pizza, aes(x = cal, y = sodium, color = brand)) + geom_point() + 

#labs(title = "Pizza Variables", y = "Sodium", x = "Cal")


#ggplot(fooddesert_LILATracts_1And10_access, aes(x = fooddesert_LILATracts_1And10_access, y = fooddesert_LILATracts_1And10_nonaccess, color = brand)) + geom_point() labs(title = "Food Deserts Variables", y = "Non-access", x = "Access")

#ggplot(fooddesert_LILATracts_1And10_access, aes(x = LILATracts_1And10, y = fooddesert_LILATracts_1And10_nonaccess$LILATracts_1And10)) +
  #geom_boxplot()

#ggplot(colAdm_admitted, aes(x = rank, y = gpa)) +
  #geom_boxplot()



library(tidyverse)
fg <- fooddesert %>%
  count(LILATracts_1And10) %>%
  mutate(
    perc = round(proportions(n) * 100, 1),
    res = str_c(n, "(", perc, ")%"),
    LILATracts_1And10 = as.factor(LILATracts_1And10)
    )

ggplot(fg, aes(LILATracts_1And10, n, fill = LILATracts_1And10)) +
  geom_col() +
  geom_text(aes(label = res), vjust = -0.5) + scale_fill_discrete(labels = c("Nonaccess", "Access"))

fg1 <- fooddesert %>%
  count(LILATracts_1And20) %>%
  mutate(
    perc = round(proportions(n) * 100, 1),
    res = str_c(n, "(", perc, ")%"),
    LILATracts_1And20 = as.factor(LILATracts_1And20)
    )

ggplot(fg1, aes(LILATracts_1And20, n, fill = LILATracts_1And20)) +
  geom_col() +
  geom_text(aes(label = res), vjust = -0.5) + scale_fill_discrete(labels = c("Nonaccess", "Access"))

```
# a) Exposition and Curation

**1.	What do we know about this dataset?**

**This information on supermarket availability at different distances was taken from the Food Access Research Atlas. This data gives a rich detailed summary because it measures access by the Census-Tract. Data on food access was linked with information on age, race, location (rural or urban), and income.** 

**2.	What are the limitations of the dataset?**

**Still working on add some data to this question ….**

**3.	How was the information gathered?**

**Beside knowing the dataset requirements for Project 1, all team member brainstormed a number of topics that went into our datasets’ pool. We analyzed and discussed all the datasets in the pool, and we decided and selected the Food Deserts in the United States. The Food Desert dataset came from one of our team members that did some volunteer work on a number of community project in past, such as the Watershed Community (Community Landscaping), 1996 Atlanta Olympics Volunteer Program, and Church activities (Food Banks & Pantries – Feed the Hungry). The team member did Google searches on Food Banks and Hunger that were impacting the world and the United States, US. Then, he asked a friend, “Are there still Food Banks and Hunger in the local area and/or the US?” And the friend stated that Hunger and Food Banks still exit in the US and one of the key issues is Food Insecurity.  Therefore, the team member searched the list of dataset sources and identified the Food Deserts dataset on the site, Kaggle.com.**

**4.	What analysis has already been completed related to the content in your dataset?**

**Yes, there has been an analysis that is related to the content in our dataset, and it was an article, “What Are Food Deserts and Why Do They Exits? (FFAC Staff, 2022)” According to the report, many people find it difficult to picture their lives without access to wholesome food. It is an everyday occurrence for many.  Not that we don't produce enough food, but rather the fact that millions of people, especially those who reside in "food deserts," lack access to it, is the issue.**

**5.	How did the research you gathered contribute to your question development?**

**The data in the article, “What Are Food Deserts and Why Do They Exits?,” had some of the variables, such as census tract and areas that are low-income and low-access in our food desert dataset.**


**6.	What additional information would be beneficial?**

**According to another article, “Food Research & Action Center Calls for WIC Funding, SNAP Benefit Adequacy as Rates of Hunger Rise” (FFAC Staff, 2023), from Food Research & Action Center (FRAC), stated today by the U.S. Department of Agriculture's Economic Research Service (ERS), that the COVID-19 pandemic relief efforts caused hunger in America to decline the previous year, but it surged in 2022.  According to the report, there were 44.2 million individuals living in households that experienced hunger in 2022—a 10.3 million rise over the previous year's estimate on food insecurity.  Congress is urged by FRAC to provide more funding in any short- and long-term fiscal year 2024 spending proposals to ensure that eligible families continue to receive the substantial health and nutrition benefits of WIC.  Congress needs to move quickly to fund anti-hunger and anti-poverty initiatives in order to stop the rise in hunger rates.  Those in hunger cannot wait.**


**7.	How did your question change, if at all, after Exploratory Data Analysis? still writing-up data from EDA**

**8.	Based on EDA can you begin to sketch out an answer to your question?  still writing-up data from EDA**

*References**

**Strengthen SNAP Benefits. (2023, October 13). Retrieved from https://frac.salsalabs.org/update-13october2023?eType=EmailBlastContent&eId=abd0e534-77e3-409c-957e-ae342b6d3f50**

**FFAC Staff. (2022, April 05). What Are Food Deserts and Why Do They Exist? Factory Farming Awareness Coalition. https://ffacoalition.org/articles/food-deserts/**

**FFRA Staff. (2023, October 25). Food Research & Action Center Calls for WIC Funding, SNAP Benefit Adequacy as Rates of Hunger Rise. https://frac.org/news/usdafoodinsecurityreport2023**


**Question 7 from Project Presentation - Code is above and write-up is below**

**Q 7.  Can we quantify the extent of low access areas (e.g., LILATracts_1And10, LILATracts_1And20) in the dataset?**

**Yes, we’re able to quantify the low access areas within the dataset, food_access_research_atlas.csv.**

**For example, we create a block of R code to filter-out the variable, low income and low access tract measured at 1 mile for urban areas and 10 miles for rural areas, LILATracts_1And10, using the value, 1, to represent census tracts that had access and the value, 0, to represent census tracts that were not within the 1 mile to 10 miles range, non-access. We also did the same methodology for access of low income and low access tract measured at 1 mile for urban areas and 20 miles for rural areas, LILATracts_1And20, as well as non-access.**

**What’s the percentage of census tracts fall into different categories of low access areas?**

**For the variable, LILATracts_1And10, we ran the R code to filter access and non-access for low income and low access tract measured at 1 mile for urban areas and 10 miles for rural areas, LILATracts_1And10 and the results were the following:**

**•	LILATracts_1And10**
**Access census tract, 9,245, divided by total number of census tracts, 72,864  times .10 = 12.7%**
**Non-access census tract, 63,619, divided by total number of census tracts, 72,864  times .10 = 87.3%**

**•	LILATracts_1And20**
**Access census tract, 8,105, divided by total number of census tracts, 72,864  times .10 = 11.1%**
**Non-access census tract, 64759, divided by total number of census tracts, 72,864  times .10 = 88.9%**








